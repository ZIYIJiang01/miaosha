<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link href="bootstrap.min.css" rel="stylesheet"  type="text/css"/>
        <link href="components.css" rel="stylesheet"  type="text/css"/>
        <link href="login.css" rel="stylesheet"  type="text/css"/>
       
        <!-- Correctly referencing the jQuery library -->
        <script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
        <script type="text/javascript">
            jQuery(document).ready(function($) {
                $("#create").on("click", function(event) {

                    var title = $("#title").val();
                    var description =$("#description").val();
                    var imgUrl = $("#imgUrl").val();
                    var price = $("#price").val();
                    var stock = $("#stock").val();

                    if (title == null || title == "") {
                        alert("title cannot be empty");
                        return false;
                    }
                    if (description == null || description == "") {
                        alert("description cannot be empty");
                        return false;
                    }
                    if (imgUrl == null || imgUrl == "") {
                        alert("imgUrl cannot be empty");
                        return false;
                    }
                    if (price == null || price == "") {
                        alert("price cannot be empty");
                        return false;
                    }
                    if (stock == null || stock == "") {
                        alert("stock cannot be empty");
                        return false;
                    }

                    $.ajax({
                        type: "POST",
                        contentType: "application/x-www-form-urlencoded",
                        url: "http://localhost:8080/item/create",
                        data: {
                            "title": title,
                            "description":description,
                            "imgUrl":imgUrl,
                            "price":price,
                            "stock":stock,

                        },
                        xhrFields:{withCredentials:true},
                        success: function(data) {
                            if (data.status == "success") {
                                alert("create success");
                            } else {
                                alert("create failed, because: " + data.data.errMsg);
                            }
                        },
                        error: function(data) {
                            alert("create failed, because: " + data.responseText);
                        }
                    });
                });
            });
        </script>
    </head>
    <body class="login">
        <div class="content">
            <h3 class="form-title">Create Item</h3>
            <div class="form-group">
                <label class="control-label">Item Title</label>
                <div>
                    <input class="form-control" type="text" placeholder="Item Title" name="title" id="title" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label">Item Description</label>
                <div>
                    <input class="form-control" type="text" placeholder="Item Description" name="description" id="description" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label">Item Price</label>
                <div>
                    <input class="form-control" type="text" name="price" id="price" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label">Picture</label>
                <div>
                    <input class="form-control" type="text" name="imgUrl" id="imgUrl" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label">Stock</label>
                <div>
                    <input class="form-control" type="text"  name="stock" id="stock" />
                </div>
            </div>

            <div class="form-action">
                <button class="btn blue" id="create" type="submit">
                    Create
                </button>
            </div>
        </div>
    </body>
</html>
